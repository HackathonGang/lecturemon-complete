(this["webpackJsonplecturemon-front"]=this["webpackJsonplecturemon-front"]||[]).push([[0],{40:function(e,t,r){},66:function(e,t,r){"use strict";r.r(t);var s=r(1),c=r.n(s),a=r(33),n=r.n(a),l=(r(40),r(12)),i=r(5),o=c.a.createContext({user:{logged:!1},setUser:function(){}}),d=o.Provider,m=o,j=r(3),u=r(2),b=r(35),x=r(4),h=r.n(x),p=r(0),f=function(e){var t=e.children,r=Object(b.a)(e,["children"]),c=Object(s.useContext)(m),a=c.user,n=c.setUser;return Object(s.useEffect)((function(){h.a.get("/api/ping").then((function(e){n({logged:!0,name:e.data.name,id:e.data.id})})).catch((function(e){return n({logged:!1})}))}),[n]),Object(p.jsx)(u.b,Object(l.a)(Object(l.a)({},r),{},{render:function(e){e.location;return a.logged?t:Object(p.jsx)(u.a,{to:{pathname:"/signin"}})}}))},O=r(6),g=r.n(O),v=r(10),N=r(17),y=function(){var e,t,r,s,c=Object(N.a)(),a=c.register,n=c.handleSubmit,l=c.errors,i=c.watch,o=c.setError,d=Object(u.g)(),m=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),h.a.post("/api/signup",t).then((function(e){console.log(e),alert("Please log in"),d.push("/signin")})).catch((function(e){console.log(e.response.data),e.response.data.forEach((function(e){switch(e.errorField){case"uniemail":o("uniemail",{message:e.error});break;case"name":o("name",{message:e.error});break;case"password":o("password",{message:e.error})}}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"relative bg-white overflow-hidden h-screen",children:Object(p.jsx)("div",{className:"max-w-7xl mx-auto h-full flex items-center justify-center",children:Object(p.jsxs)("div",{className:"shadow border-md p-4 text-center flex flex-col w-1/3",children:[Object(p.jsx)("h2",{className:"mb-3 text-lg",children:"Sign-up"}),Object(p.jsx)("small",{className:"underline hover:text-gray-500",children:Object(p.jsx)(j.b,{to:"/signin",children:"Sign-in?"})}),Object(p.jsxs)("form",{className:"w-full flex flex-col",onSubmit:n(m),children:[Object(p.jsx)("label",{className:"text-left",htmlFor:"name",children:"Name"}),Object(p.jsx)("input",{className:"input ".concat(l.name?"input-error":""),type:"text",name:"name",id:"name",ref:a({required:!0})}),"required"===(null===(e=l.name)||void 0===e?void 0:e.type)&&Object(p.jsx)("small",{className:"text-left text-red-500",children:"Please enter your name!"}),l.name&&Object(p.jsx)("small",{className:"text-left text-red-500",children:l.name.message}),Object(p.jsx)("label",{className:"text-left mt-3",htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{className:"input ".concat(l.password?"input-error":""),type:"password",name:"password",id:"password",ref:a({required:!0})}),"required"===(null===(t=l.password)||void 0===t?void 0:t.type)&&Object(p.jsx)("small",{className:"text-left text-red-500",children:"Please enter a password"}),l.password&&Object(p.jsx)("small",{className:"text-left text-red-500",children:l.password.message}),Object(p.jsx)("label",{className:"text-left mt-3",htmlFor:"password",children:"Confirm Password"}),Object(p.jsx)("input",{className:"input ".concat(l.conf_password?"input-error":""),type:"password",name:"conf_password",id:"conf_password",ref:a({required:!0,validate:function(e){return e===i("password","")||"The passwords don't match!"}})}),l.conf_password&&Object(p.jsx)("small",{className:"text-left text-red-500",children:l.conf_password.message}),Object(p.jsx)("label",{className:"text-left mt-3",htmlFor:"uni",children:"University"}),Object(p.jsxs)("select",{className:"select ".concat(l.uni?"select-error":""),name:"uni",id:"uni",ref:a({required:!0,validate:function(e){return"null"!==e||"Please choose a university!"}}),children:[Object(p.jsx)("option",{value:"null",children:"Please select your University"}),Object(p.jsx)("option",{value:"warwick",children:"University of Warwick"}),Object(p.jsx)("option",{value:"durham",children:"Durham University"})]}),l.uni&&Object(p.jsx)("small",{className:"text-left text-red-500",children:l.uni.message}),Object(p.jsx)("label",{className:"text-left mt-3",htmlFor:"uni_email",children:"University Email"}),Object(p.jsx)("input",{className:"input ".concat(l.uniemail?"input-error":""),type:"email",name:"uniemail",id:"uniemail",ref:a({required:!0})}),"required"===(null===(r=l.uniemail)||void 0===r?void 0:r.type)&&Object(p.jsx)("small",{className:"text-left text-red-500",children:"Please enter an email!"}),l.uniemail&&Object(p.jsx)("small",{className:"text-left text-red-500",children:l.uniemail.message}),Object(p.jsx)("label",{className:"text-left mt-3",htmlFor:"useremail",children:"Personal Email"}),Object(p.jsx)("input",{className:"input ".concat(l.useremail?"input-error":""),type:"email",name:"useremail",id:"useremail",ref:a({required:!0})}),"required"===(null===(s=l.useremail)||void 0===s?void 0:s.type)&&Object(p.jsx)("small",{className:"text-left text-red-500",children:"Please enter an email!"}),Object(p.jsx)("span",{className:"my-2"}),Object(p.jsx)("button",{type:"submit",className:"btn",children:"Sign-up"})]})]})})})})},w=c.a.createContext({xp:{current:0,max:100,quantifier:"xp",level:0},setXp:function(){}}),k=w.Provider,_=w,q=function(){var e,t,r=Object(N.a)(),c=r.register,a=r.handleSubmit,n=r.errors,i=r.setError,o=Object(s.useContext)(m).setUser,d=Object(s.useContext)(_),b=d.xp,x=d.setXp,f=Object(u.g)(),O=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.a.post("/api/signin",t).then((function(e){o({id:e.data.id,name:e.data.name,logged:!0}),x(Object(l.a)(Object(l.a)({},b),{},{current:e.data.xp})),f.push("/")})).catch((function(e){console.log(e.response.data),e.response.data.forEach((function(e){switch(e.errorField){case"uniemail":i("uniemail",{message:e.error});break;case"password":i("password",{message:e.error})}}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"relative bg-white overflow-hidden h-screen",children:Object(p.jsx)("div",{className:"max-w-7xl mx-auto h-full flex items-center justify-center",children:Object(p.jsxs)("div",{className:"shadow border-md p-4 text-center flex flex-col w-1/3",children:[Object(p.jsx)("h2",{className:"mb-3 text-lg",children:"Sign-in"}),Object(p.jsx)("small",{className:"underline hover:text-gray-500",children:Object(p.jsx)(j.b,{to:"/signup",children:"Sign-up?"})}),Object(p.jsxs)("form",{className:"w-full flex flex-col",onSubmit:a(O),children:[Object(p.jsx)("label",{className:"text-left",htmlFor:"email",children:"University Email"}),Object(p.jsx)("input",{className:"input ".concat(n.uniemail?"input-error":""),type:"text",name:"uniemail",id:"email",ref:c({required:!0})}),"required"===(null===(e=n.uniemail)||void 0===e?void 0:e.type)&&Object(p.jsx)("small",{className:"text-left text-red-500",children:"Please enter your university email!"}),n.uniemail&&Object(p.jsx)("small",{className:"text-left text-red-500",children:n.uniemail.message}),Object(p.jsx)("label",{className:"text-left mt-3",htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{className:"input ".concat(n.password?"input-error":""),type:"password",name:"password",id:"password",ref:c({required:!0})}),"required"===(null===(t=n.password)||void 0===t?void 0:t.type)&&Object(p.jsx)("small",{className:"text-left text-red-500",children:"Please enter your password!"}),n.password&&Object(p.jsx)("small",{className:"text-left text-red-500",children:n.password.message}),Object(p.jsx)("span",{className:"my-2"}),Object(p.jsx)("button",{type:"submit",className:"btn",children:"Sign-in"})]})]})})})})},F=function(e){var t=e.current,r=e.max,s=e.quantity;r=100;var c=(t-=100*Math.floor(t/100))/r*100+"%",a="".concat(t,"/").concat(r," ").concat(s);return t>r&&(c="100%",a="".concat(r,"/").concat(r," ").concat(s)),Object(p.jsx)("div",{className:"shadow w-3/4 bg-grey-light",style:{height:"150%"},children:Object(p.jsx)("div",{className:"bg-green-500 text-xs leading-none py-2 text-center text-white z-10 transition-width duration-1000 whitespace-nowrap",style:{width:c},children:a})})},C=r.p+"static/media/bpoke.fe0752eb.png",S=function(e){var t=e.pageName,r=e.children;Object(s.useEffect)((function(){document.title="".concat(t," | LectureMon")}));var c=Object(s.useContext)(m).user,a=Object(s.useContext)(_).xp,n=Math.floor(a.current/100)+1,l=a.current,i=(l-=100*Math.floor(l/100))/100*100+"%";return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P,{}),Object(p.jsx)("main",{children:Object(p.jsxs)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[Object(p.jsxs)("h1",{className:"mt-20 text-4xl font-bold mb-2",children:["Hello, ",c.name]}),Object(p.jsxs)("small",{children:["Progress to level ",n,": ",i]}),0!==a.current&&Object(p.jsx)(F,{current:a.current,max:100,quantity:a.quantifier}),Object(p.jsx)("span",{className:"m-5"}),r]})})]})},P=function(){var e=Object(s.useContext)(m).setUser;return Object(p.jsxs)("nav",{className:"bg-white border border-gray-200",children:[Object(p.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:Object(p.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(p.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(p.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",children:[Object(p.jsx)("span",{className:"sr-only",children:"Open main menu"}),Object(p.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),Object(p.jsx)("svg",{className:"hidden h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),Object(p.jsxs)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:[Object(p.jsx)("div",{className:"flex-shrink-0 flex items-center",children:Object(p.jsx)("img",{className:"hidden lg:block h-7 w-auto",src:C,alt:"Workflow"})}),Object(p.jsx)("div",{className:"hidden sm:block sm:ml-auto",children:Object(p.jsxs)("div",{className:"flex space-x-4",children:[Object(p.jsx)(j.c,{exact:!0,to:"/",activeClassName:"border border-black",className:"text-gray-700 hover:bg-gray-400 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Dashboard"}),Object(p.jsx)(j.c,{to:"/leaderboard",activeClassName:"border border-black",className:"text-gray-700 hover:bg-gray-400 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Leaderboard"}),Object(p.jsx)(j.c,{to:"/profile",activeClassName:"border border-black",className:"text-gray-700 hover:bg-gray-400 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Profile"}),Object(p.jsx)("button",{onClick:function(){h.a.get("/api/logout").then((function(t){e({logged:!1})}))},className:"text-gray-700 hover:bg-gray-400 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Logout"})]})})]})]})}),Object(p.jsx)("div",{className:"sm:hidden",id:"mobile-menu",children:Object(p.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[Object(p.jsx)(j.c,{to:"/",className:"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium",children:"Dashboard"}),Object(p.jsx)(j.c,{to:"/leaderboard",className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"Leaderboard"}),Object(p.jsx)(j.c,{to:"/profile",className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"Profile"}),Object(p.jsx)("button",{className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"Logout"})]})})]})},L=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),r=t[0],c=t[1],a=Object(s.useState)([]),n=Object(i.a)(a,2),l=n[0],o=n[1],d=Object(s.useContext)(m).setUser;return Object(s.useEffect)((function(){h.a.get("/api/modules").then((function(e){console.log(e.data),c(e.data)})).catch((function(e){return d({logged:!1})})),h.a.get("/api/surveys").then((function(e){console.log(e),o(e.data)}))}),[d]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(S,{pageName:"Dashboard",children:Object(p.jsxs)("div",{className:"grid grid-flow-col grid-cols-2 gap-8",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"text-xl mb-2",children:"To do"}),l.map((function(e){return Object(p.jsxs)(j.b,{to:"/poll/".concat(e.survey_id),className:"group shadow rounded-md h-auto overflow-hidden flex items-center mb-3 hover:bg-gray-200",children:[Object(p.jsx)("p",{className:"uppercase border border-gray-200 border-l-0 border-t-0 border-b-0 h-full py-2 px-4 group-hover:border-white",children:e.survey_type}),Object(p.jsx)("p",{className:"py-2 px-4",children:e.survey_name})]},e.survey_id)})),0===l.length&&Object(p.jsx)("p",{children:"No surveys found!"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"text-xl mb-2",children:"Modules"}),r.map((function(e){return Object(p.jsxs)(j.b,{to:"/module/".concat(e.module_id),className:"group shadow rounded-md h-auto overflow-hidden flex items-center mb-3 hover:bg-gray-200",children:[Object(p.jsx)("p",{className:"uppercase border border-gray-200 border-l-0 border-t-0 border-b-0 h-full py-6 px-4 group-hover:border-white",children:e.module_code}),Object(p.jsxs)("div",{className:"py-2 px-4",children:[Object(p.jsx)("p",{className:"",children:e.module_name}),Object(p.jsx)(j.b,{to:"/lecturer/".concat(e.lecturer_id),children:Object(p.jsx)("small",{className:"text-gray-500 text-xs",children:e.module_lecturer})})]})]},e.module_id)})),0===r.length&&Object(p.jsx)("p",{children:"No modules found!"})]})]})})})},E=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"relative bg-white overflow-hidden h-screen",children:Object(p.jsx)("div",{className:"max-w-7xl mx-auto h-full flex items-center justify-center",children:Object(p.jsxs)("div",{className:"text-center flex flex-col items-center",children:[Object(p.jsx)("h1",{className:"text-9xl font-bold text-purple-500 pb-4",children:"LectureMon"}),Object(p.jsx)("p",{className:"text-lg font-bold",children:"Because we are way better than you will ever be!"}),Object(p.jsxs)("div",{className:"flex mt-8",children:[Object(p.jsx)(j.b,{to:"/signup",className:"btn mr-5 btn-green",children:"Sign-up"}),Object(p.jsx)(j.b,{to:"/signin",className:"btn",children:"Sign-in"})]})]})})})})},U=function(e){var t=e.name,r=e.imgURL,s=e.rarity,c=e.stats,a="black",n="black",l="bg-gradient-to-r from-green-300 to-green-800";switch(s){case"common":a="white",n="white",l="bg-gradient-to-r from-green-300 to-green-700";break;case"rare":a="white",n="white",l="bg-gradient-to-r from-blue-300 to-blue-700";break;case"epic":a="white",n="black",l="bg-gradient-to-r from-indigo-300 to-purple-700";break;case"legendary":a="white",n="gold",l="bg-gradient-to-r from-yellow-300 to-red-700"}return Object(p.jsx)("div",{className:"flex flex-col justify-center items-center",children:Object(p.jsxs)("div",{className:"shadow rounded-md flex flex-col justify-center p-4 ".concat(l),style:{color:a},children:[Object(p.jsx)("small",{className:"uppercase text-center pb-2 font-bold",style:{color:n},children:s}),Object(p.jsx)("img",{src:r,alt:"",className:"w-48 h-48 mb-2"}),Object(p.jsx)("h1",{className:"text-lg text-center mb-1",children:t}),Object(p.jsx)("div",{className:"text-left p-2 border border-gray-600",style:{backgroundColor:"rgba(0,0,0,0.15)"},children:c.map((function(e){return Object(p.jsxs)("p",{className:"text-sm",children:[e.name,": ",e.value,"/5"]})}))})]})})},M=function(){var e=Object(s.useState)(),t=Object(i.a)(e,2),r=t[0],c=t[1];return Object(s.useEffect)((function(){h.a.get("/api/getusercards").then((function(e){console.log(e),c(e.data)}))}),[c]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(S,{pageName:"Profile",children:[Object(p.jsx)("p",{className:"w-40 my-2 border-2 border-green-600 rounded-full py-2 px-4 text-center text-green-600",children:"\u2726 Course Rep"}),Object(p.jsx)("h2",{className:"mt-5 mb-2 text-3xl font-bold",children:"Inventory"}),Object(p.jsx)("div",{className:"grid grid-cols-4 gap-8",children:null===r||void 0===r?void 0:r.map((function(e){return Object(p.jsx)(j.b,{to:"/module/".concat(e.module_id),children:Object(p.jsx)(U,{name:e.module_code+": "+e.module_name,imgURL:"https://pbs.twimg.com/media/C4MRT1NVUAAq0Hr.jpg",stats:[]})})}))})]})})},T=function(e){var t=e.question,r=e.placeholder,s=e.reff,c=e.id,a=e.errors;e.triggerValidation;return Object(p.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(p.jsx)("label",{htmlFor:c,className:"text-left",children:t}),Object(p.jsx)("input",{ref:s,type:"text",name:c,placeholder:r,className:"input ".concat(a[c]?"input-error":"")}),a[c]&&Object(p.jsx)("small",{className:"text-left text-red-500",children:"Please fill in this field!"})]})},V=function(e){var t=e.question,r=e.id,s=e.reff,c=e.options,a=e.errors,n=e.triggerValidation;return Object(p.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(p.jsx)("label",{htmlFor:r,className:"text-left mb-1",children:t}),Object(p.jsx)("div",{className:"flex flex-row",children:c.map((function(e){return Object(p.jsxs)("div",{className:"flex flex-row items-center justify-center mr-5",children:[Object(p.jsx)("input",{className:"mr-2",ref:s,type:"radio",id:e.key,name:r,value:e.key,onChange:function(){return n()}}),Object(p.jsx)("label",{htmlFor:e.key,children:e.name})]},e.key)}))}),a[r]&&Object(p.jsx)("small",{className:"text-left text-red-500",children:"Please choose an option!"})]})},R=function(e){var t=e.question,r=e.id,s=e.reff,c=e.options,a=e.errors,n=e.triggerValidation;return Object(p.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(p.jsx)("label",{className:"text-left mt-3",htmlFor:r,children:t}),Object(p.jsxs)("select",{ref:s,className:"input ".concat(a[r]?"input-error":""),name:r,id:r,onChange:function(){return n()},children:[Object(p.jsx)("option",{value:"null",children:"Please select an option"}),c.map((function(e){return Object(p.jsx)("option",{value:e.key,children:e.name},e.key)}))]}),a[r]&&Object(p.jsx)("small",{className:"text-left text-red-500",children:"Please select an option!"})]})},A=function(e){var t=e.question,r=e.id,s=e.reff,c=e.min,a=e.max,n=e.step,l=e.startText,i=e.endText;return Object(p.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(p.jsx)("label",{className:"text-left mt-4 mb-2",htmlFor:r,children:t}),Object(p.jsx)("input",{ref:s,type:"range",name:r,id:r,min:c,max:a,step:n,defaultValue:3}),Object(p.jsxs)("div",{className:"text-left w-full flex flex-row justify-between mt-2",children:[Object(p.jsx)("span",{className:"text-gray-500 text-sm",children:l}),Object(p.jsx)("span",{className:"text-gray-500 text-sm",children:i})]})]})},D=function(){var e=Object(N.a)(),t=e.register,r=e.handleSubmit,c=e.errors,a=e.trigger,n=Object(s.useState)(0),o=Object(i.a)(n,2),d=o[0],m=o[1],j=Object(u.h)().id,b=Object(s.useContext)(_),x=b.xp,f=b.setXp,O=Object(u.g)(),g=Object(s.useState)(),v=Object(i.a)(g,2),y=v[0],w=v[1],k=Object(s.useState)([]),q=Object(i.a)(k,2),F=q[0],C=q[1];return Object(s.useEffect)((function(){h.a.get("/api/survey/".concat(j)).then((function(e){console.log(e),w(e.data);var r=e.data.questions,s=0,n=[];r.forEach((function(e){var r;switch(s++,e.type){case"text":r=Object(p.jsx)(T,{triggerValidation:a,errors:c,reff:t({required:!0}),question:e.title,placeholder:"Answer here",id:""+s});break;case"radio":r=Object(p.jsx)(V,{triggerValidation:a,errors:c,reff:t({required:!0}),question:e.title,id:""+s,options:e.options});break;case"select":r=Object(p.jsx)(R,{triggerValidation:a,errors:c,reff:t({required:!0,validate:function(e){return"null"!==e||"Please select an option"}}),question:e.title,id:""+s,options:e.options});break;case"slider":r=Object(p.jsx)(A,{triggerValidation:a,errors:c,reff:t({required:!0}),question:e.title,id:""+s,min:1,max:5,step:1,startText:e.options[0]||"",endText:e.options[1]||""})}n.push(r),m(s),C(n)}))}))}),[t,c,a,j]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(S,{pageName:"Dashboard",children:[Object(p.jsxs)("h1",{className:"mt-2 mb-1 text-4xl font-bold capitalize",children:["[",(null===y||void 0===y?void 0:y.target_type)||"No type","] ",(null===y||void 0===y?void 0:y.survey_title)||"No Survey Title"]}),Object(p.jsx)("small",{className:"text-lg",children:(null===y||void 0===y?void 0:y.description)||"No Description"}),Object(p.jsx)("div",{className:"w-full mt-4 mx-auto h-full flex items-center justify-center",children:Object(p.jsxs)("div",{className:"shadow border-md p-4 text-center flex flex-col w-11/12",children:[Object(p.jsx)("h2",{className:"mb-3 text-lg",children:"Feedback Form"}),Object(p.jsx)("small",{className:"underline hover:text-gray-500"}),Object(p.jsxs)("form",{className:"w-full flex flex-col",onSubmit:r((function(e){for(var t=[],r=1;r<=d;r++)t.push(e[""+r]);var s={survey_id:(null===y||void 0===y?void 0:y.survey_id)||-1,target:(null===y||void 0===y?void 0:y.target)||-1,target_type:(null===y||void 0===y?void 0:y.target_type)||"",answers:t};console.log(s),h.a.post("/api/surveyresponse",y).then((function(e){console.log(e),h.a.get("/api/ping").then((function(e){f(Object(l.a)(Object(l.a)({},x),{},{current:e.data.xp})),setTimeout((function(){O.push("/")}),1005)}))}))})),children:[F.map((function(e,t){return Object(p.jsx)("span",{children:e},t)})),Object(p.jsx)("button",{type:"submit",className:"btn",children:"Submit Feedback"})]})]})})]})})},B=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),r=t[0],c=t[1];return Object(s.useEffect)((function(){h.a.get("/api/leaderboard").then((function(e){console.log(e),c(e.data)}))}),[c]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(S,{pageName:"Leaderboard",children:[Object(p.jsx)("h1",{className:"mt-5 text-4xl font-bold",children:"Leaderboard"}),Object(p.jsx)("small",{children:"Climb to the top for some special (possibly monetary \ud83d\udc40) rewards!"}),Object(p.jsxs)("div",{className:"grid grid-cols-3 shadow-lg",children:[Object(p.jsx)("div",{className:"font-bold border-2 border-r-0 p-1",children:"User"}),Object(p.jsx)("div",{className:"font-bold border-2 border-r-0 p-1",children:"Xp"}),Object(p.jsx)("div",{className:"font-bold border-2 border-l-2 p-1",children:"No. Cards"}),r.map((function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"p-1 border-l-2",children:e.name}),Object(p.jsx)("div",{className:"p-1 border-l-2",children:e.xp}),Object(p.jsx)("div",{className:"p-1 border-l-2 border-r-2",children:"0"})]})}))]})]})})},H=function(){var e=Object(s.useState)(),t=Object(i.a)(e,2),r=t[0],c=t[1],a=Object(u.h)(),n=Object(u.g)();return Object(s.useEffect)((function(){h.a.get("/api/module/".concat(a.id)).then((function(e){console.log(e),c(e.data)})).catch((function(e){n.push("/")}))}),[c,a.id,n]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(S,{pageName:"Module",children:[Object(p.jsx)("h1",{className:"mt-5 text-4xl font-bold",children:(null===r||void 0===r?void 0:r.module_name)||"No Name Found"}),Object(p.jsxs)("p",{children:["Lecturer: ",(null===r||void 0===r?void 0:r.module_lecturer)||"No Lecturer Found",Object(p.jsx)("br",{}),"Code: ",(null===r||void 0===r?void 0:r.module_code)||"No Code Found"]}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"Get a higher rarity card by completing more of the modules surveys as they come out!"}),Object(p.jsx)("div",{className:"mt-5 grid grids-cols-1 md:grid-cols-4 gap-8",children:["common","rare","epic","legendary"].map((function(e){return Object(p.jsx)(U,{rarity:e,name:(null===r||void 0===r?void 0:r.module_name)||"",imgURL:"https://pbs.twimg.com/media/C4MRT1NVUAAq0Hr.jpg",stats:[{name:"Coursework",value:(null===r||void 0===r?void 0:r.coursework_score)||0},{name:"Enjoyability",value:(null===r||void 0===r?void 0:r.enjoyability_score)||0},{name:"Difficulty",value:(null===r||void 0===r?void 0:r.difficulty_score)||0},{name:"Lecture",value:(null===r||void 0===r?void 0:r.lecture_satisfaction)||0}]})}))})]})})},X=function(){var e=Object(s.useState)(),t=Object(i.a)(e,2),r=t[0],c=t[1],a=Object(u.h)(),n=Object(u.g)();return Object(s.useEffect)((function(){h.a.get("/api/lecturer/".concat(a.id)).then((function(e){console.log(e),c(e.data)})).catch((function(e){n.push("/")}))}),[c,a.id,n]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(S,{pageName:"Lecturer",children:[Object(p.jsx)("h1",{className:"mt-5 text-4xl font-bold",children:(null===r||void 0===r?void 0:r.lecturer_name)||"No Name Found"}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"Get a higher rarity card by completing more of the lecturer surveys as they come out!"}),Object(p.jsx)("div",{className:"mt-5 grid grids-cols-1 md:grid-cols-4 gap-8",children:["common","rare","epic","legendary"].map((function(e){return Object(p.jsx)(U,{rarity:e,name:(null===r||void 0===r?void 0:r.lecturer_name)||"",imgURL:"https://pbs.twimg.com/media/C4MRT1NVUAAq0Hr.jpg",stats:[{name:"Friendliness",value:(null===r||void 0===r?void 0:r.friendliness_score)||0},{name:"Response Time",value:(null===r||void 0===r?void 0:r.speed_of_response)||0}]})}))}),Object(p.jsx)("div",{className:"grid grid-cols-4 mt-4",children:null===r||void 0===r?void 0:r.module_list.map((function(e){return Object(p.jsxs)(j.b,{to:"/module/".concat(e.module_id),className:"group shadow rounded-md h-auto overflow-hidden flex items-center mb-3 hover:bg-gray-200",children:[Object(p.jsx)("p",{className:"uppercase border border-gray-200 border-l-0 border-t-0 border-b-0 h-full py-4 px-4 group-hover:border-white",children:e.module_code}),Object(p.jsx)("div",{className:"py-2 px-4",children:Object(p.jsx)("p",{className:"",children:e.module_name})})]},e.module_id)}))})]})})};var W=function(){var e=Object(s.useState)({logged:void 0,name:"\xa3500 Loot Box",id:500}),t=Object(i.a)(e,2),r=t[0],c=t[1],a=Object(s.useState)({current:21,max:145,quantifier:"xp",level:0}),n=Object(i.a)(a,2),o=n[0],m=n[1];return Object(s.useEffect)((function(){h.a.get("/api/ping").then((function(e){c({logged:!0,name:e.data.name,id:e.data.id}),m(Object(l.a)(Object(l.a)({},o),{},{current:e.data.xp}))})).catch((function(e){return c({logged:!1})}))}),[]),Object(p.jsx)(k,{value:{xp:o,setXp:m},children:Object(p.jsx)(d,{value:{user:r,setUser:c},children:Object(p.jsx)(j.a,{children:Object(p.jsxs)(u.d,{children:[Object(p.jsxs)(u.b,{exact:!0,path:"/",children:[void 0===r.logged&&Object(p.jsx)("p",{children:"Loading"}),!0===r.logged&&Object(p.jsx)(L,{}),!1===r.logged&&Object(p.jsx)(E,{})]}),Object(p.jsx)(u.b,{path:"/signin",children:Object(p.jsx)(q,{})}),Object(p.jsx)(u.b,{path:"/signup",children:Object(p.jsx)(y,{})}),Object(p.jsx)(f,{path:"/profile",children:Object(p.jsx)(M,{})}),Object(p.jsx)(f,{path:"/poll/:id",children:Object(p.jsx)(D,{})}),Object(p.jsx)(f,{path:"/leaderboard",children:Object(p.jsx)(B,{})}),Object(p.jsx)(f,{path:"/module/:id",children:Object(p.jsx)(H,{})}),Object(p.jsx)(f,{path:"/lecturer/:id",children:Object(p.jsx)(X,{})}),Object(p.jsx)(u.b,{children:Object(p.jsxs)("div",{className:"w-screen h-screen flex flex-col items-center justify-center",children:[Object(p.jsx)("h1",{className:"text-7xl mb-2",children:"Error 404"}),Object(p.jsx)("p",{className:"mb-2",children:"The page you tried to access doesn't exist"}),Object(p.jsx)(j.b,{to:"/",className:"btn",children:"Home"})]})})]})})})})};n.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(W,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.8e295bc8.chunk.js.map